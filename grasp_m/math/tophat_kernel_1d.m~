function [y,x,dx] = tophat_kernel_1d(x0,sigma,intint,finesse,sigmawidth)

if nargin <5
    sigmawidth = 3;
end
if nargin <4
    finesse = 100;
end
if nargin <3
    intint = 1;
end
if nargin <2
    sigma = 1;
end
if nargin <1
    x0 = 0;
end

%Make x coordinates
low_edge = x0-sigmawidth*sigma;
high_edge = x0+sigmawidth*sigma;
dx = (high -low) /(finesse-1);
x = low:dx:high;

low_fwhm = sigma * (2*sqrt(2*log(2)));

temp = find(x<=

x
y  = (intint./(sigma .* sqrt(2*pi))) .* exp( -(x-x0).^2 ./ (2*sigma.^2));

 figure
 plot(x-x0,y,'.')
 sum(y.*dx)
asdasdas